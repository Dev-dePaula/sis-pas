<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roda da Vida - PAS</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* ESTILOS GERAIS (CSS) */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        header {
            text-align: center;
            border-bottom: 2px solid #4CAF50;
            margin-bottom: 30px;
            padding-bottom: 20px;
        }

        header h1 {
            margin: 0;
            color: #2E7D32;
        }

        header p {
            color: #666;
            font-style: italic;
        }

        .info-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        /* Controles Deslizantes */
        .controls {
            background: #fff;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .control-group input[type="range"] {
            width: 100%;
            cursor: pointer;
        }

        .score-display {
            color: #2E7D32;
            font-weight: bold;
        }

        /* √Årea do Gr√°fico */
        .chart-container {
            position: relative;
            width: 100%;
        }

        /* √Årea de Perguntas */
        .reflection-section {
            margin-top: 40px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        .question-box {
            margin-bottom: 15px;
        }

        .question-box label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        .question-box textarea {
            width: 100%;
            height: 80px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: inherit;
        }

        /* Bot√£o de Imprimir */
        .btn-print {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #2E7D32;
            color: white;
            border: none;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            transition: background 0.3s;
        }

        .btn-print:hover {
            background-color: #1b5e20;
        }

        /* CONFIGURA√á√ÉO DE IMPRESS√ÉO */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
                max-width: 100%;
                padding: 0;
            }
            .btn-print {
                display: none; /* Esconde o bot√£o na impress√£o */
            }
            .content-grid {
                display: block; /* Coloca o gr√°fico abaixo das notas na impress√£o para caber melhor */
                page-break-inside: avoid;
            }
            .chart-container {
                max-height: 400px; /* Limita tamanho na impress√£o */
                margin: 0 auto;
            }
            textarea {
                border: 1px solid #000;
            }
        }
        
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Plano de Atendimento Singular (PAS)</h1>
        <p>"Ensina-nos a contar os nossos dias para que alcancemos cora√ß√£o s√°bio." (Salmos 90:12)</p>
    </header>

    <div class="info-header">
        <div><strong>Acolhido:</strong> <input type="text" placeholder="Nome do acolhido" style="border:none; background:transparent; font-size:16px; width:200px;"></div>
        <div><strong>Data:</strong> <script>document.write(new Date().toLocaleDateString());</script></div>
        <div><strong>Respons√°vel:</strong> <input type="text" placeholder="Nome do coordenador" style="border:none; background:transparent; font-size:16px;"></div>
    </div>

    <div class="content-grid">
        <div class="controls">
            <h3>Avalia√ß√£o das √Åreas (1 a 10)</h3>
            <p style="font-size: 0.9em; color: #666;">Arraste para definir a nota atual.</p>

            <div class="control-group">
                <label>Espiritualidade <span id="val0" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(0, this.value)">
            </div>

            <div class="control-group">
                <label>Sa√∫de F√≠sica <span id="val1" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(1, this.value)">
            </div>

            <div class="control-group">
                <label>Fam√≠lia <span id="val2" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(2, this.value)">
            </div>

            <div class="control-group">
                <label>Trabalho/Estudo <span id="val3" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(3, this.value)">
            </div>

            <div class="control-group">
                <label>Emo√ß√µes <span id="val4" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(4, this.value)">
            </div>

            <div class="control-group">
                <label>Lazer/Social <span id="val5" class="score-display">5</span></label>
                <input type="range" min="1" max="10" value="5" oninput="updateChart(5, this.value)">
            </div>
        </div>

        <div class="chart-container">
            <canvas id="rodaVidaChart"></canvas>
        </div>
    </div>

    <div class="reflection-section">
        <h3>Compromisso e Metas</h3>
        
        <div class="question-box">
            <label>1. Olhando para a roda, qual √°rea precisa de mais aten√ß√£o urgente?</label>
            <textarea placeholder="Escreva aqui..."></textarea>
        </div>

        <div class="question-box">
            <label>2. Defina uma meta pr√°tica para esta semana:</label>
            <textarea placeholder="Ex: Ler 1 cap√≠tulo do livro, Ligar para minha m√£e, Fazer caminhada..."></textarea>
        </div>

        <div class="question-box" style="margin-top: 30px; border-top: 1px dashed #999; padding-top: 20px;">
            <div style="display: flex; justify-content: space-between;">
                <span>__________________________<br>Assinatura do Acolhido</span>
                <span>__________________________<br>Coordena√ß√£o</span>
            </div>
        </div>
    </div>

    <button class="btn-print" onclick="window.print()">üñ®Ô∏è IMPRIMIR / SALVAR PDF</button>
</div>

<script>
    // L√ìGICA DO GR√ÅFICO (JAVASCRIPT)
    const ctx = document.getElementById('rodaVidaChart').getContext('2d');
    
    // Dados iniciais
    let dataValues = [5, 5, 5, 5, 5, 5];
    const labels = ['Espiritualidade', 'Sa√∫de F√≠sica', 'Fam√≠lia', 'Trabalho/Estudo', 'Emo√ß√µes', 'Lazer'];

    // Configura√ß√£o do Gr√°fico (Polar Area Chart - fica parecendo fatias de pizza)
    const myChart = new Chart(ctx, {
        type: 'polarArea', 
        data: {
            labels: labels,
            datasets: [{
                label: 'N√≠vel de Satisfa√ß√£o',
                data: dataValues,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)', // Espiritualidade (Vermelho suave)
                    'rgba(54, 162, 235, 0.6)', // Sa√∫de (Azul)
                    'rgba(255, 206, 86, 0.6)', // Fam√≠lia (Amarelo)
                    'rgba(75, 192, 192, 0.6)', // Trabalho (Verde)
                    'rgba(153, 102, 255, 0.6)', // Emo√ß√µes (Roxo)
                    'rgba(255, 159, 64, 0.6)'  // Lazer (Laranja)
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                r: {
                    min: 0,
                    max: 10,
                    ticks: {
                        stepSize: 2,
                        backdropColor: 'transparent' // Remove fundo dos n√∫meros
                    },
                    grid: {
                        color: '#ccc'
                    }
                }
            },
            plugins: {
                legend: {
                    position: 'bottom',
                }
            }
        }
    });

    // Fun√ß√£o para atualizar o gr√°fico quando mover a barra
    function updateChart(index, value) {
        // Atualiza o n√∫mero ao lado da barra
        document.getElementById('val' + index).innerText = value;
        
        // Atualiza o gr√°fico
        myChart.data.datasets[0].data[index] = value;
        myChart.update();
    }
</script>

</body>
</html>